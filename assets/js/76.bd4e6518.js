(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{594:function(t,s,a){"use strict";a.r(s);var e=a(8),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h4",{attrs:{id:"安装-husky-npm-或者-yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-husky-npm-或者-yarn"}},[t._v("#")]),t._v(" 安装 husky(npm 或者 yarn)")]),t._v(" "),a("p",[a("code",[t._v("yarn add husky -D")])]),t._v(" "),a("p",[a("code",[t._v("npm install -D husky")])]),t._v(" "),a("h4",{attrs:{id:"初始化-husky"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化-husky"}},[t._v("#")]),t._v(" 初始化 husky")]),t._v(" "),a("p",[a("code",[t._v("yarn husky install")])]),t._v(" "),a("p",[a("code",[t._v("npx husky install")])]),t._v(" "),a("h4",{attrs:{id:"新增-commit-msg-钩子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增-commit-msg-钩子"}},[t._v("#")]),t._v(" 新增 commit msg 钩子")]),t._v(" "),a("p",[a("code",[t._v('yarn husky add .husky/commit-msg "node scripts/verifyCommit.js"')])]),t._v(" "),a("p",[a("code",[t._v('npx husky add .husky/commit-msg "node scripts/verifyCommit.js"')])]),t._v(" "),a("h4",{attrs:{id:"commit-msg-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit-msg-配置文件"}},[t._v("#")]),t._v(" commit-msg 配置文件")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.git/COMMIT_EDITMSG'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" commitRE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^(revert: )?(feat|fix|docs|dx|style|refactor|perf|test|workflow|build|ci|chore|types|wip|release)(\\(.+\\))?: .{1,50}")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mergeRe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^(Merge pull request|Merge branch)")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("commitRE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("mergeRe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git commit信息校验不通过'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("git commit的信息格式不对, 需要使用 title(scope): desc的格式\n      比如 fix: xxbug\n      feat(test): add new \n      具体校验逻辑看 scripts/verifyCommit.js\n    ")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git commit信息校验通过'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("*确保每次上传代码提交日志都符合 type(scope): message 的格式")])]),t._v(" "),a("h1",{attrs:{id:"git-提交代码时添加-emoji-图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-提交代码时添加-emoji-图标"}},[t._v("#")]),t._v(" Git 提交代码时添加 emoji 图标")]),t._v(" "),a("blockquote",[a("p",[t._v("使用 git 的开发者都知道提交代码的最简单命令： "),a("code",[t._v("git commit -m '此次提交的内容说明'")])])]),t._v(" "),a("blockquote",[a("p",[t._v("这是在 commit 时，添加了 emoji 表情说明，我们来看看其命令语法：")])]),t._v(" "),a("h2",{attrs:{id:"在-commit-时添加一个-emoji-表情图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-commit-时添加一个-emoji-表情图标"}},[t._v("#")]),t._v(" 在 commit 时添加一个 emoji 表情图标")]),t._v(" "),a("div",{staticClass:"language-git extra-class"},[a("pre",{pre:!0,attrs:{class:"language-git"}},[a("code",[t._v("git commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':emoji: 此次提交的内容说明'")]),t._v("\n")])])]),a("h2",{attrs:{id:"添加多个-emoji-表情图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加多个-emoji-表情图标"}},[t._v("#")]),t._v(" 添加多个 emoji 表情图标")]),t._v(" "),a("div",{staticClass:"language-git extra-class"},[a("pre",{pre:!0,attrs:{class:"language-git"}},[a("code",[t._v("git commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("':emoji1: :emoji2: :emoji3: 此次提交的内容说明'")]),t._v("\n")])])]),a("p",[t._v("在提交内容的前面增加了 emoji 标签： "),a("strong",[t._v(":emoji:")]),t._v("，其中 emoji 是表情图标的标签，列表见下面的附录表格。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("emoji")]),t._v(" "),a("th",[t._v("emoji 代码")]),t._v(" "),a("th",[t._v("commit 说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("🎨 (调色板)")]),t._v(" "),a("td",[a("code",[t._v(":art:")])]),t._v(" "),a("td",[t._v("改进代码结构/代码格式")])]),t._v(" "),a("tr",[a("td",[t._v("⚡️ (闪电)🐎 (赛马)")]),t._v(" "),a("td",[a("code",[t._v(":zap:“:racehorse:")])]),t._v(" "),a("td",[t._v("提升性能")])]),t._v(" "),a("tr",[a("td",[t._v("🔥 (火焰)")]),t._v(" "),a("td",[a("code",[t._v(":fire:")])]),t._v(" "),a("td",[t._v("移除代码或文件")])]),t._v(" "),a("tr",[a("td",[t._v("🐛 (bug)")]),t._v(" "),a("td",[a("code",[t._v(":bug:")])]),t._v(" "),a("td",[t._v("修复 bug")])]),t._v(" "),a("tr",[a("td",[t._v("🚑 (急救车)")]),t._v(" "),a("td",[a("code",[t._v(":ambulance:")])]),t._v(" "),a("td",[t._v("重要补丁")])]),t._v(" "),a("tr",[a("td",[t._v("✨ (火花)")]),t._v(" "),a("td",[a("code",[t._v(":sparkles:")])]),t._v(" "),a("td",[t._v("引入新功能")])]),t._v(" "),a("tr",[a("td",[t._v("📝 (备忘录)")]),t._v(" "),a("td",[a("code",[t._v(":memo:")])]),t._v(" "),a("td",[t._v("撰写文档")])]),t._v(" "),a("tr",[a("td",[t._v("🚀 (火箭)")]),t._v(" "),a("td",[a("code",[t._v(":rocket:")])]),t._v(" "),a("td",[t._v("部署功能")])]),t._v(" "),a("tr",[a("td",[t._v("💄 (口红)")]),t._v(" "),a("td",[a("code",[t._v(":lipstick:")])]),t._v(" "),a("td",[t._v("更新 UI 和样式文件")])]),t._v(" "),a("tr",[a("td",[t._v("🎉 (庆祝)")]),t._v(" "),a("td",[a("code",[t._v(":tada:")])]),t._v(" "),a("td",[t._v("初次提交")])]),t._v(" "),a("tr",[a("td",[t._v("✅ (白色复选框)")]),t._v(" "),a("td",[a("code",[t._v(":white_check_mark:")])]),t._v(" "),a("td",[t._v("增加测试")])]),t._v(" "),a("tr",[a("td",[t._v("🔒 (锁)")]),t._v(" "),a("td",[a("code",[t._v(":lock:")])]),t._v(" "),a("td",[t._v("修复安全问题")])]),t._v(" "),a("tr",[a("td",[t._v("🍎 (苹果)")]),t._v(" "),a("td",[a("code",[t._v(":apple:")])]),t._v(" "),a("td",[t._v("修复 macOS 下的问题")])]),t._v(" "),a("tr",[a("td",[t._v("🐧 (企鹅)")]),t._v(" "),a("td",[a("code",[t._v(":penguin:")])]),t._v(" "),a("td",[t._v("修复 Linux 下的问题")])]),t._v(" "),a("tr",[a("td",[t._v("🏁 (旗帜)")]),t._v(" "),a("td",[a("code",[t._v(":checked_flag:")])]),t._v(" "),a("td",[t._v("修复 Windows 下的问题")])]),t._v(" "),a("tr",[a("td",[t._v("🔖 (书签)")]),t._v(" "),a("td",[a("code",[t._v(":bookmark:")])]),t._v(" "),a("td",[t._v("发行/版本标签")])]),t._v(" "),a("tr",[a("td",[t._v("🚨 (警车灯)")]),t._v(" "),a("td",[a("code",[t._v(":rotating_light:")])]),t._v(" "),a("td",[t._v("移除 linter 警告")])]),t._v(" "),a("tr",[a("td",[t._v("🚧 (施工)")]),t._v(" "),a("td",[a("code",[t._v(":construction:")])]),t._v(" "),a("td",[t._v("工作进行中")])]),t._v(" "),a("tr",[a("td",[t._v("💚 (绿心)")]),t._v(" "),a("td",[a("code",[t._v(":green_heart:")])]),t._v(" "),a("td",[t._v("修复 CI 构建问题")])]),t._v(" "),a("tr",[a("td",[t._v("⬇️ (下降箭头)")]),t._v(" "),a("td",[a("code",[t._v(":arrow_down:")])]),t._v(" "),a("td",[t._v("降级依赖")])]),t._v(" "),a("tr",[a("td",[t._v("⬆️ (上升箭头)")]),t._v(" "),a("td",[a("code",[t._v(":arrow_up:")])]),t._v(" "),a("td",[t._v("升级依赖")])]),t._v(" "),a("tr",[a("td",[t._v("👷 (工人)")]),t._v(" "),a("td",[a("code",[t._v(":construction_worker:")])]),t._v(" "),a("td",[t._v("添加 CI 构建系统")])]),t._v(" "),a("tr",[a("td",[t._v("📈 (上升趋势图)")]),t._v(" "),a("td",[a("code",[t._v(":chart_with_upwards_trend:")])]),t._v(" "),a("td",[t._v("添加分析或跟踪代码")])]),t._v(" "),a("tr",[a("td",[t._v("🔨 (锤子)")]),t._v(" "),a("td",[a("code",[t._v(":hammer:")])]),t._v(" "),a("td",[t._v("重大重构")])]),t._v(" "),a("tr",[a("td",[t._v("➖ (减号)")]),t._v(" "),a("td",[a("code",[t._v(":heavy_minus_sign:")])]),t._v(" "),a("td",[t._v("减少一个依赖")])]),t._v(" "),a("tr",[a("td",[t._v("🐳 (鲸鱼)")]),t._v(" "),a("td",[a("code",[t._v(":whale:")])]),t._v(" "),a("td",[t._v("Docker 相关工作")])]),t._v(" "),a("tr",[a("td",[t._v("➕ (加号)")]),t._v(" "),a("td",[a("code",[t._v(":heavy_plug_sign:")])]),t._v(" "),a("td",[t._v("增加一个依赖")])]),t._v(" "),a("tr",[a("td",[t._v("🔧 (扳手)")]),t._v(" "),a("td",[a("code",[t._v(":wrench:")])]),t._v(" "),a("td",[t._v("修改配置文件")])]),t._v(" "),a("tr",[a("td",[t._v("🌐 (地球)")]),t._v(" "),a("td",[a("code",[t._v(":globe_with_meridians:")])]),t._v(" "),a("td",[t._v("国际化与本地化")])]),t._v(" "),a("tr",[a("td",[t._v("✏️ (铅笔)")]),t._v(" "),a("td",[a("code",[t._v(":pencil2:")])]),t._v(" "),a("td",[t._v("修复 typo")])])])]),t._v(" "),a("p",[t._v("参考资料 :")]),t._v(" "),a("ul",[a("li",[t._v("https://gitmoji.carloscuesta.me/")])])])}),[],!1,null,null,null);s.default=_.exports}}]);